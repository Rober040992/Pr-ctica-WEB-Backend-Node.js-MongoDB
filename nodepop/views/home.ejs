<%- include('header.ejs') %>

<div class="container mt-5">
  <!-- Contenedor principal -->
  <div class="card p-4 shadow-lg">
    <!-- Tarjeta para el contenedor -->
    
    <!-- Usuario logueado -->
    <h4 class="text-primary mb-4">Usuario: <%= session.userName %></h4>

    <% if (!session.userId) { %>
      <!-- Mensaje para usuarios no logueados -->
      <div class="alert alert-warning">
        <p>Para ver el contenido debes hacer <a href="/login" class="alert-link">login</a></p>
      </div>
    <% } else { %>
      <!-- Lista de productos -->
      <div class="product-list">
        <% products.forEach(product => { %>
          <div class="product-item p-3 mb-3 border rounded shadow-sm">
            <h5 class="product-name mb-1"><%= product.name %></h5>
            <p class="product-price text-success mb-1"><strong>Precio:</strong> $<%= product.price %></p>
            <p class="product-tag text-muted mb-1"><strong>Etiqueta:</strong> <%= product.tag %></p>
            <a href="/product/delete/<%= product.id %>" class="btn btn-outline-danger btn-sm">
              <i class="bi bi-trash"></i> Eliminar
            </a>
          </div>
        <% }) %>
      </div>
    <% } %>
  </div>
</div>

<%- include('footer.ejs') %>